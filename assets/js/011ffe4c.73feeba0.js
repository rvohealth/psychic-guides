"use strict";(self.webpackChunkpsychic_guides=self.webpackChunkpsychic_guides||[]).push([[7003],{4931:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>i});var n=o(4848),l=o(8453);const t={},r="preloadThroughColumns",a={id:"models/associations/options/preloadThroughColumns",title:"preloadThroughColumns",description:"preloadThroughColumns provides a mechanism to load columns from a join table without explicitly loading that table.",source:"@site/docs/models/associations/options/preloadThroughColumns.mdx",sourceDirName:"models/associations/options",slug:"/models/associations/options/preloadThroughColumns",permalink:"/docs/models/associations/options/preloadThroughColumns",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/models/associations/options/preloadThroughColumns.mdx",tags:[],version:"current",frontMatter:{},sidebar:"guides",previous:{title:"polymorphic",permalink:"/docs/models/associations/options/polymorphic"},next:{title:"primaryKeyOverride",permalink:"/docs/models/associations/options/primaryKeyOverride"}},c={},i=[];function p(e){const s={code:"code",h1:"h1",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"preloadthroughcolumns",children:"preloadThroughColumns"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"preloadThroughColumns"})," provides a mechanism to load columns from a join table without explicitly loading that table."]}),"\n",(0,n.jsxs)(s.p,{children:["In the following example, the loaded Lesson models will have access to the ",(0,n.jsx)(s.code,{children:"percentComplete"})," attribute even though it is stored on the join model:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-typescript",children:"const lessons = this.currentUser.load('lessons').all()\nconsole.log(lesson.preloadedThroughColumns.percentComplete)\n\nexport default class User extends ApplicationModel {\n  // ...\n\n  @HasMany(() => UserLesson)\n  public userLessons: UserLesson[]\n\n  @HasMany(() => Lesson, {\n    through: 'userLessons',\n    preloadThroughColumns: ['percentComplete'],\n  })\n  public lessons: Lesson[]\n}\n\nexport default class UserLesson extends ApplicationModel {\n  // ...\n\n  public percentComplete: DreamColumn<Lesson, 'percentComplete'>\n\n  @HasMany(() => Lesson)\n  public lessons: Lesson[]\n}\n\nexport default class Lesson extends ApplicationModel {\n  // ...\n\n  public preloadedThroughColumns: {\n    percentComplete?: DreamColumn<UserLesson, 'percentComplete'>\n  } = {}\n}\n"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"preloadThroughColumns"})," also provide a mechanism to alias the preloaded columns to other names. In the following example, the ",(0,n.jsx)(s.code,{children:"id"})," from the UserLesson join model is mapped to ",(0,n.jsx)(s.code,{children:"userLessonId"})," in ",(0,n.jsx)(s.code,{children:"preloadedThroughColumns"}),":"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-typescript",children:"const lessons = this.currentUser.load('lessons').all()\nconsole.log(lesson.preloadedThroughColumns.userLessonId)\nconsole.log(lesson.preloadedThroughColumns.percentComplete)\n\nexport default class User extends ApplicationModel {\n  // ...\n\n  @HasMany(() => UserLesson)\n  public userLessons: UserLesson[]\n\n  @HasMany(() => Lesson, {\n    through: 'userLessons',\n    preloadThroughColumns: {\n      id: 'userLessonId',\n      percentComplete: 'percentComplete',\n    },\n  })\n  public lessons: Lesson[]\n}\n\nexport default class UserLesson extends ApplicationModel {\n  // ...\n\n  public percentComplete: DreamColumn<Lesson, 'percentComplete'>\n\n  @HasMany(() => Lesson)\n  public lessons: Lesson[]\n}\n\nexport default class Lesson extends ApplicationModel {\n  // ...\n\n  public preloadedThroughColumns: {\n    userLessonId?: DreamColumn<UserLesson, 'id'>\n    percentComplete?: DreamColumn<UserLesson, 'percentComplete'>\n  } = {}\n}\n"})})]})}function d(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},8453:(e,s,o)=>{o.d(s,{R:()=>r,x:()=>a});var n=o(6540);const l={},t=n.createContext(l);function r(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);