---
sidebar_position: 5
---

import RightSidebarItem from "@site/src/components/ui/right-sidebar-item"

# structure

Within your psychic project, you will see a pretty typical folder structure generated for you. Within the app folder, you will find your controllers, models, serializers, and services. These four folders create the walls of your app, allowing you to build your app's entire domain within these folder structures.

Outside the app folder, you will find a conf and db folders, each of which provide additional setup outside the domain of your app. Within the conf folder, you will see a routes.ts file. This file contains all the routes for your app.

<RightSidebarItem>
  <pre style={{ backgroundColor: "transparent" }}>
    {`
POST /login     users#login
POST /users     users#create
GET  /users     users#index
`}
  </pre>
</RightSidebarItem>

```ts // conf/routes.ts
import { PsychicRouter } from "psychic"

export default (r: PsychicRouter) => {
  r.post("login", "users#login")
  r.resources("users", { only: ["create", "index"] })
}
```

Here is a simple example of how a UsersController could be set up to do a simple authentication pattern:

```ts
// app/controllers/users.ts

import { PsychicController, Params } from "psychic"
import User from "app/models/user"

export default class UsersController extends PsychicController {
  public async create() {
    const user = await User.create(this.userParams)
    this.ok(user)
  }

  public async login() {
    if (!this.params.email || !this.params.password) this.notFound()

    const user = await User.findBy({ email: this.params.email })
    if (!user || !(await user.checkPassword(this.params.password)))
      this.notFound()

    await this.startSession(user)
    this.ok()
  }

  private get userParams() {
    return Params.restrict(this.params?.user, ["email", "password"])
  }
}
```
