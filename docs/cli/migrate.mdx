---
sidebar_position: 6
pagination_next: null
ai_summary: Database migration commands include db:migrate (runs outstanding migrations), db:rollback (rolls back migrations with --steps option), db:create (creates database), db:drop (drops database), db:reset (drops, creates, migrates, and seeds), and db:seed (seeds database). All support --skip-sync option.
---

import PackageManagerTabs from '@site/src/components/ui/package-manager-tabs'

# migrate/rollback

## db:migrate

Runs any outstanding database migrations:

<PackageManagerTabs
  code={`NODE_ENV=development {{PM}} psy db:migrate
NODE_ENV=test {{PM}} psy db:migrate`}
/>

### Options
- `--skip-sync`: Skips syncing local schema after running migrations.
- `-h, --help`: Display help for command.

## db:rollback

Rolls back the specified number of migration steps (defaults to 1):

<PackageManagerTabs
    code={`NODE_ENV=test {{PM}} psy db:rollback`}
/>

Roll back multiple migrations at once:

<PackageManagerTabs
    code={`NODE_ENV=test {{PM}} psy db:rollback --steps 3`}
/>

### Options
- `--steps <number>`: Number of steps back to travel (default: 1).
- `--skip-sync`: Skips syncing local schema after running migrations.
- `-h, --help`: Display help for command.

## db:create

Creates a new database:

<PackageManagerTabs
  code={`NODE_ENV=development {{PM}} psy db:create
NODE_ENV=test {{PM}} psy db:create`}
/>

### Options
- `-h, --help`: Display help for command.

## db:drop

Drops the database:

<PackageManagerTabs
  code={`NODE_ENV=development {{PM}} psy db:drop
NODE_ENV=test {{PM}} psy db:drop`}
/>

**Options:**
- `-h, --help`: Display help for command.

## db\:reset

Runs `db:drop` (safely), `db:create`, `db:migrate`, and `db:seed`.

<PackageManagerTabs
  code={`NODE_ENV=development {{PM}} psy db:reset
NODE_ENV=test {{PM}} psy db:reset`}
/>

**Options:**
- `-h, --help`: Display help for command.

## db\:seed

Seeds the database using the file located in `db/seed.ts`.

<PackageManagerTabs
  code={`NODE_ENV=development {{PM}} psy db:seed
NODE_ENV=test {{PM}} psy db:seed`}
/>

**Options:**
- `-h, --help`: Display help for command.

## db\:integrity-check

Fails if migrations need to be run.

<PackageManagerTabs
    code={`NODE_ENV=test {{PM}} psy db:integrity-check`}
/>

**Options:**
- `-h, --help`: Display help for command.

For full details, see the [migration documentation](/docs/migrations/overview)
