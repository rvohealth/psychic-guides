---
sidebar_position: 2
---

import RightSidebarItem from '@site/src/components/ui/right-sidebar-item'

# creating

## using "create"

To create an instance of a psychic model, use the static .create method. This method will automatically fill the `id`, `createdAt` and `updatedAt` fields on your model.

```ts
import User from 'app/models/user'

const user = await User.create({
  email: 'hello@world.biz',
  password: 'fishandfriends',
})
```

## using "save"

Additionally, you can save a new instance of a model like so:

```ts
const user = User.new()
user.email = 'hello@world.biz'
user.password = 'fishandfriends'
await user.save()
```

Dream also provides two methods to use for a locate-or-create pattern:

## using "findOrCreateBy"

Utilizing `findOrCreateBy`, we can either collect a record if it exists, or else create it. Any fields passed into the `createWith` option will be applied _only_ if the record is being created.

```ts
const user = await User.findOrCreateBy(
  { email: 'how@yadoin' },
  { createWith: { password: 'mypassword' } }
)
```

## using "createOrFindBy"

The `createOrFindBy` method is very similar to `findOrCreateBy`, except it will attempt to create the record first. This pattern relies on unique contraints at the DB level to reject the create statement if another record already exists with those fields.

```ts
// this expects that the `email` column with have a unique contraint in the DB
const user = await User.createOrFindBy(
  { email: 'how@yadoin' },
  { createWith: { password: 'mypassword' } }
)
```
