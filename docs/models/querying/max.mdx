import RoutesOutput from '@site/src/components/ui/routes-output'

# max

The `max` method will pluck a field with the highest value.

```ts
const id = await User.max('id')
```

<RoutesOutput>
  <pre style={{ backgroundColor: 'transparent' }}>
    {`
select max("id") from "users"
`}
  </pre>
</RoutesOutput>

`max` is smart enough to know the return type for id, so the returned value will already have the correct type cast for the `id` field.

## Chaining

You can leverage chainable methods to filter out records at the sql level before calling max.

```ts
const id = await User.where({ email: ops.ilike('%burpcollaborator%') }).max(
  'id',
)
```

<RoutesOutput>
  <pre style={{ backgroundColor: 'transparent' }}>
    {`
select max("id") from "users" where ("users"."email" ilike $1)
`}
  </pre>
</RoutesOutput>
