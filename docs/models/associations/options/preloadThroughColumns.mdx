# preloadThroughColumns

`preloadThroughColumns` provides a mechanism to load columns from a join table without explicitly loading that table.

In the following example, the loaded Lesson models will have access to the `percentComplete` attribute even though it is stored on the join model:

```typescript
const lessons = this.currentUser.load('lessons').all()
console.log(lesson.preloadedThroughColumns.percentComplete)

export default class User extends ApplicationModel {
  // ...

  @HasMany(() => UserLesson)
  public userLessons: UserLesson[]

  @HasMany(() => Lesson, {
    through: 'userLessons',
    preloadThroughColumns: ['percentComplete'],
  })
  public lessons: Lesson[]
}

export default class UserLesson extends ApplicationModel {
  // ...

  public percentComplete: DreamColumn<Lesson, 'percentComplete'>

  @HasMany(() => Lesson)
  public lessons: Lesson[]
}

export default class Lesson extends ApplicationModel {
  // ...

  public preloadedThroughColumns: {
    percentComplete?: DreamColumn<UserLesson, 'percentComplete'>
  } = {}
}
```

`preloadThroughColumns` also provide a mechanism to alias the preloaded columns to other names. In the following example, the `id` from the UserLesson join model is mapped to `userLessonId` in `preloadedThroughColumns`:

```typescript
const lessons = this.currentUser.load('lessons').all()
console.log(lesson.preloadedThroughColumns.userLessonId)
console.log(lesson.preloadedThroughColumns.percentComplete)

export default class User extends ApplicationModel {
  // ...

  @HasMany(() => UserLesson)
  public userLessons: UserLesson[]

  @HasMany(() => Lesson, {
    through: 'userLessons',
    preloadThroughColumns: {
      id: 'userLessonId',
      percentComplete: 'percentComplete',
    },
  })
  public lessons: Lesson[]
}

export default class UserLesson extends ApplicationModel {
  // ...

  public percentComplete: DreamColumn<Lesson, 'percentComplete'>

  @HasMany(() => Lesson)
  public lessons: Lesson[]
}

export default class Lesson extends ApplicationModel {
  // ...

  public preloadedThroughColumns: {
    userLessonId?: DreamColumn<UserLesson, 'id'>
    percentComplete?: DreamColumn<UserLesson, 'percentComplete'>
  } = {}
}
```
