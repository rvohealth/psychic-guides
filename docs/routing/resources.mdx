---
sidebar_position: 2
---

import RightSidebarItem from '@site/src/components/ui/right-sidebar-item'

# resources

You can also use resourceful routing as shorthand to quickly model standard http routes for one of your underlying models, like so:

<RightSidebarItem>
  <pre style={{ backgroundColor: 'transparent' }}>
    {`
GET     /users      Users#index
POST    /users      Users#create
GET     /users/:id  Users#show
PUT     /users/:id  Users#update
PATCH   /users/:id  Users#update
DELETE  /users/:id  Users#destroy
`}
  </pre>
</RightSidebarItem>

```ts // conf/routes.ts
import { PsychicRouter } from 'psychic'

export default (r: PsychicRouter) => {
  r.resources('users')
}
```

You can use resourceful routes, but restrict the routes to only a collection, like so:

<RightSidebarItem>
  <pre style={{ backgroundColor: 'transparent' }}>
    {`
GET     /users  Users#index
POST    /users  Users#create
`}
  </pre>
</RightSidebarItem>

```ts
// conf/routes.ts

import { PsychicRouter } from 'psychic'

export default (r: PsychicRouter) => {
  r.resources('users', { only: ['create', 'index'] })
  // same as:
  r.resources('users', { except: ['show', 'update', 'destroy'] })
}
```

Additionally, use the resource method to do the same, but with a singularized route endpoint. This is generally done when you do not need to pass an id to identify the resource, such as when the resource will always belong to the authenticated user.

<RightSidebarItem>
  <pre style={{ backgroundColor: 'transparent' }}>
    {`
GET    /user  Users#show
POST   /user  Users#create
PUT    /user  Users#update
PATCH  /user  Users#update
DELETE /user  Users#destroy
`}
  </pre>
</RightSidebarItem>

```ts
// conf/routes.ts

import { PsychicRouter } from 'psychic'

export default (r: PsychicRouter) => {
  r.resource('user')
}
```

Both the `resource` and `resources` method enable nesting, enabling you to express child routes. By default, all child routes will be treated as `members` of the resource (meaning, they need to be reached by `id`).

<RightSidebarItem>
  <pre style={{ backgroundColor: 'transparent' }}>
    {`
GET     /users/:id       Users#show
GET     /users/:id/edit  Users#edit
`}
  </pre>
</RightSidebarItem>

```ts
r.resources('users', { only: ['show'] }, (r) => {
  r.get('edit')
})
```

If you do not wish for your nested endpoint to contain the id as part of its signature, you can use the `collection` method, like so:

<RightSidebarItem>
  <pre style={{ backgroundColor: 'transparent' }}>
    {`
GET     /users/:id   Users#show
GET     /users/edit  Users#edit
`}
  </pre>
</RightSidebarItem>

```ts
r.resources('users', { only: ['show'] }, (r) => {
  r.collection((r) => {
    r.get('edit')
  })
})
```
